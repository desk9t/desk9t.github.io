
<!DOCTYPE html>
<html lang="en | zh-CN |zh-TW">
<head>
    <meta charset="utf-8" />
    <title>OS | Q^Q</title>
    <meta name="author" content="desk9t" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 7.1.1"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>Q^Q</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;Q^Q</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>OS</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/1/15
        </span>
        
        
    </div>
    
    <div class="content" v-pre>
        <h1 id="2-进程的描述与控制"><a href="#2-进程的描述与控制" class="headerlink" title="2.进程的描述与控制"></a>2.进程的描述与控制</h1><h2 id="2-1前驱图和程序执行"><a href="#2-1前驱图和程序执行" class="headerlink" title="2.1前驱图和程序执行"></a>2.1前驱图和程序执行</h2><h3 id="2-1-1前驱图"><a href="#2-1-1前驱图" class="headerlink" title="2.1.1前驱图"></a>2.1.1前驱图</h3><h3 id="2-1-2程序的顺序执行"><a href="#2-1-2程序的顺序执行" class="headerlink" title="2.1.2程序的顺序执行"></a>2.1.2程序的顺序执行</h3><h4 id="1-程序的顺序执行"><a href="#1-程序的顺序执行" class="headerlink" title="1.程序的顺序执行"></a>1.程序的顺序执行</h4><h4 id="2-程序的顺序执行时的特征"><a href="#2-程序的顺序执行时的特征" class="headerlink" title="2.程序的顺序执行时的特征"></a>2.程序的顺序执行时的特征</h4><ol>
<li>顺序性</li>
<li>封闭性</li>
<li>可再现性</li>
</ol>
<h3 id="2-1-3程序并发执行"><a href="#2-1-3程序并发执行" class="headerlink" title="2.1.3程序并发执行"></a>2.1.3程序并发执行</h3><h4 id="1-程序的并发执行"><a href="#1-程序的并发执行" class="headerlink" title="1.程序的并发执行"></a>1.程序的并发执行</h4><h4 id="2-程序并发执行的特征"><a href="#2-程序并发执行的特征" class="headerlink" title="2.程序并发执行的特征"></a>2.程序并发执行的特征</h4><ol>
<li>间断性</li>
<li>失去封闭性</li>
<li>不可再现性</li>
</ol>
<h2 id="2-2进程的描述"><a href="#2-2进程的描述" class="headerlink" title="2.2进程的描述"></a>2.2进程的描述</h2><h3 id="2-2-1进程的的定义与特征"><a href="#2-2-1进程的的定义与特征" class="headerlink" title="2.2.1进程的的定义与特征"></a>2.2.1进程的的定义与特征</h3><p><em>进程是程序的执行过程，时系统进行资源分配和调度的一个独立单位</em></p>
<h4 id="1-进程的定义"><a href="#1-进程的定义" class="headerlink" title="1.进程的定义"></a>1.进程的定义</h4><h4 id="2-进程的特征"><a href="#2-进程的特征" class="headerlink" title="2.进程的特征"></a>2.进程的特征</h4><ol>
<li><p>动态性</p>
</li>
<li><p>并发性</p>
<p>只有存在PCB后才能实现并发</p>
</li>
<li><p>独立性</p>
</li>
<li><p>异步性</p>
</li>
</ol>
<h3 id="进程的基本状态与转换"><a href="#进程的基本状态与转换" class="headerlink" title="进程的基本状态与转换"></a>进程的基本状态与转换</h3><h4 id="1-进程的3种基本状态"><a href="#1-进程的3种基本状态" class="headerlink" title="1.进程的3种基本状态"></a>1.进程的3种基本状态</h4><ol>
<li>就绪状态</li>
</ol>
<p>​		<em>已准备好除CPU的所有资源</em></p>
<ol>
<li>执行状态</li>
<li>阻塞状态</li>
</ol>
<p>​		<em>因事件(等待资源，IO..)而无法执行</em></p>
<p><em>以单处理机为例，除了执行态，都有相应的等待队列</em></p>
<h4 id="2-进程3种基本状态间的转换"><a href="#2-进程3种基本状态间的转换" class="headerlink" title="2.进程3种基本状态间的转换"></a>2.进程3种基本状态间的转换</h4><h4 id="3-创建状态和终止状态"><a href="#3-创建状态和终止状态" class="headerlink" title="3.创建状态和终止状态"></a>3.创建状态和终止状态</h4><ol>
<li><p>创建状态</p>
<ul>
<li>申请PCB并填入信息</li>
<li>分配资源</li>
</ul>
<p><em>完成以上任务期间过程就是创建状态</em></p>
</li>
<li><p>终止状态</p>
<p><em>清零PCB并归还内存</em></p>
</li>
</ol>
<h3 id="2-2-3挂起操作和进程状态的转换"><a href="#2-2-3挂起操作和进程状态的转换" class="headerlink" title="2.2.3挂起操作和进程状态的转换"></a>2.2.3挂起操作和进程状态的转换</h3><h4 id="1-操作系统的引入"><a href="#1-操作系统的引入" class="headerlink" title="1.操作系统的引入"></a>1.操作系统的引入</h4><ol>
<li>终端用户的需求</li>
<li>父进程的需要</li>
<li>负荷调节的需要</li>
<li>OS的需要</li>
</ol>
<h4 id="2。引入挂起操作后进程3个基本状态之间的转换"><a href="#2。引入挂起操作后进程3个基本状态之间的转换" class="headerlink" title="2。引入挂起操作后进程3个基本状态之间的转换"></a>2。引入挂起操作后进程3个基本状态之间的转换</h4><ol>
<li>活动就绪-静止就绪</li>
<li>活动阻塞-精致阻塞</li>
<li>静止就绪-活动就绪</li>
<li>静止阻塞-活动阻塞</li>
</ol>
<p><em>注意别犯傻的，区分[操作]和[状态],三种状态均可实施挂起操作</em></p>
<p><em>只有阻塞和就绪两种状态会因此变化</em></p>
<h4 id="3-引入挂起操作后进程五个基本状态间的转换"><a href="#3-引入挂起操作后进程五个基本状态间的转换" class="headerlink" title="3.引入挂起操作后进程五个基本状态间的转换"></a>3.引入挂起操作后进程五个基本状态间的转换</h4><ol>
<li>NULL-创建</li>
<li>创建-活动就绪</li>
<li>创建-静止就绪</li>
<li>执行-终止</li>
</ol>
<h3 id="2-2-4进程管理中的数据结构"><a href="#2-2-4进程管理中的数据结构" class="headerlink" title="2.2.4进程管理中的数据结构"></a>2.2.4进程管理中的数据结构</h3><h4 id="1-OS中用于管理资源和控制进程的数据结构"><a href="#1-OS中用于管理资源和控制进程的数据结构" class="headerlink" title="1.OS中用于管理资源和控制进程的数据结构"></a>1.OS中用于管理资源和控制进程的数据结构</h4><h4 id="2-PCB的的作用"><a href="#2-PCB的的作用" class="headerlink" title="2.PCB的的作用"></a>2.PCB的的作用</h4><ol>
<li>作为独立运行基本单位的标志</li>
</ol>
<p>​		<strong>系统是通过感知PCB判断进程</strong></p>
<ol>
<li><p>实现间断运行方式</p>
<p><strong>保留现场(上下文切换)</strong></p>
</li>
<li><p>提供进程管理所需要的信息</p>
</li>
<li><p>提供进程调度所需要的信息</p>
</li>
<li><p>实现与其他进程的同步与通信</p>
</li>
</ol>
<h4 id="3-PCB中的信息"><a href="#3-PCB中的信息" class="headerlink" title="3.PCB中的信息"></a>3.PCB中的信息</h4><ol>
<li>进程标识符<ul>
<li>外部标识符</li>
<li>内部标识符</li>
</ul>
</li>
<li>处理机状态</li>
<li>进程调度信息</li>
<li>进程控制信息</li>
</ol>
<p>4.PCB的组织方式</p>
<ol>
<li>线性方式</li>
<li>链接方式</li>
<li>索引方式</li>
</ol>
<h2 id="2-3进程控制"><a href="#2-3进程控制" class="headerlink" title="2.3进程控制"></a>2.3进程控制</h2><h3 id="2-3-1进程的创建"><a href="#2-3-1进程的创建" class="headerlink" title="2.3.1进程的创建"></a>2.3.1进程的创建</h3><h4 id="1-进程的层次结构"><a href="#1-进程的层次结构" class="headerlink" title="1.进程的层次结构"></a>1.进程的层次结构</h4><h4 id="2-进程图"><a href="#2-进程图" class="headerlink" title="2.进程图"></a>2.进程图</h4><h4 id="3-引起进程创建的事件"><a href="#3-引起进程创建的事件" class="headerlink" title="3.引起进程创建的事件"></a>3.引起进程创建的事件</h4><ol>
<li>用户登录</li>
<li>作业调度</li>
<li>提供服务</li>
<li>应用请求</li>
</ol>
<h4 id="4-进程的创建"><a href="#4-进程的创建" class="headerlink" title="4.进程的创建"></a>4.进程的创建</h4><h3 id="2-3-2进程的终止"><a href="#2-3-2进程的终止" class="headerlink" title="2.3.2进程的终止"></a>2.3.2进程的终止</h3><h4 id="1-引起进程终止的事件"><a href="#1-引起进程终止的事件" class="headerlink" title="1.引起进程终止的事件"></a>1.引起进程终止的事件</h4><ol>
<li>正常结束</li>
<li>异常结束</li>
<li>外界干预</li>
</ol>
<h4 id="2-进程的终止过程"><a href="#2-进程的终止过程" class="headerlink" title="2.进程的终止过程"></a>2.进程的终止过程</h4><h3 id="2-3-3进程的阻塞与唤醒"><a href="#2-3-3进程的阻塞与唤醒" class="headerlink" title="2.3.3进程的阻塞与唤醒"></a>2.3.3进程的阻塞与唤醒</h3><h4 id="1-引起进程阻塞与唤醒的事件"><a href="#1-引起进程阻塞与唤醒的事件" class="headerlink" title="1.引起进程阻塞与唤醒的事件"></a>1.引起进程阻塞与唤醒的事件</h4><ol>
<li>向系统请求共享资源失败</li>
<li>等待某种操作的完成</li>
<li>新数据尚未到达</li>
<li>等待新任务的到达</li>
</ol>
<h4 id="2-进程阻塞过程"><a href="#2-进程阻塞过程" class="headerlink" title="2.进程阻塞过程"></a>2.进程阻塞过程</h4><h3 id="3-进程唤醒过程"><a href="#3-进程唤醒过程" class="headerlink" title="3.进程唤醒过程"></a>3.进程唤醒过程</h3><h3 id="2-3-4进程的挂起与激活"><a href="#2-3-4进程的挂起与激活" class="headerlink" title="2.3.4进程的挂起与激活"></a>2.3.4进程的挂起与激活</h3><h4 id="1-进程的挂起"><a href="#1-进程的挂起" class="headerlink" title="1.进程的挂起"></a>1.进程的挂起</h4><h4 id="2-进程的激活"><a href="#2-进程的激活" class="headerlink" title="2.进程的激活"></a>2.进程的激活</h4><h2 id="2-4进程通信"><a href="#2-4进程通信" class="headerlink" title="2.4进程通信"></a>2.4进程通信</h2><h3 id="2-4-1进程通信的类型"><a href="#2-4-1进程通信的类型" class="headerlink" title="2.4.1进程通信的类型"></a>2.4.1进程通信的类型</h3><h4 id="共享存储器系统"><a href="#共享存储器系统" class="headerlink" title="共享存储器系统"></a>共享存储器系统</h4><ol>
<li>基于共享树结构的通信方式</li>
<li>基于共享存储区的通信方式</li>
</ol>
<h4 id="2-管道通信系统"><a href="#2-管道通信系统" class="headerlink" title="2.管道通信系统"></a>2.管道通信系统</h4><ol>
<li>互斥</li>
<li>同步</li>
<li>确认对方是否存在</li>
</ol>
<h4 id="3-消息传递系统"><a href="#3-消息传递系统" class="headerlink" title="3.消息传递系统"></a>3.消息传递系统</h4><ol>
<li>直接通信方式</li>
<li>间接通信方式</li>
</ol>
<h4 id="4-客户机-服务器系统"><a href="#4-客户机-服务器系统" class="headerlink" title="4.客户机-服务器系统"></a>4.客户机-服务器系统</h4><ol>
<li><p>套接字</p>
<ul>
<li>基于文件型</li>
<li>基于网络型</li>
</ul>
</li>
<li><p>远程过程(方法)调用</p>
</li>
</ol>
<h3 id="2-4-2消息传递通信的实现方式"><a href="#2-4-2消息传递通信的实现方式" class="headerlink" title="2.4.2消息传递通信的实现方式"></a>2.4.2消息传递通信的实现方式</h3><p>1.直接通信(直接消息传递系统)</p>
<ol>
<li>直接通信原语<ul>
<li>对称寻址方式</li>
<li>非对称寻址方式</li>
</ul>
</li>
<li>消息格式</li>
<li>进程同步方式<ul>
<li>发送进程阻塞，接收进程阻塞</li>
<li>发送进程不阻塞，接收进程阻塞</li>
<li>发送进程和接收进程均不阻塞</li>
</ul>
</li>
<li>通信链路<ul>
<li>单行通信链路</li>
<li>双向通信链路</li>
</ul>
</li>
</ol>
<h4 id="2-间接通信-信箱通信"><a href="#2-间接通信-信箱通信" class="headerlink" title="2.间接通信(信箱通信)"></a>2.间接通信(信箱通信)</h4><ol>
<li>信箱的结构</li>
<li>信箱通信原语<ul>
<li>信箱的创建与撤销</li>
<li>消息的发送与接收</li>
</ul>
</li>
</ol>
<h3 id="2-4-3实例：linux进程通信"><a href="#2-4-3实例：linux进程通信" class="headerlink" title="2.4.3实例：linux进程通信"></a>2.4.3实例：linux进程通信</h3><h4 id="1-管道"><a href="#1-管道" class="headerlink" title="1.管道"></a>1.管道</h4><ol>
<li>无名管道</li>
<li>有名管道</li>
</ol>
<h4 id="2-信号"><a href="#2-信号" class="headerlink" title="2.信号"></a>2.信号</h4><h4 id="3-消息队列"><a href="#3-消息队列" class="headerlink" title="3.消息队列"></a>3.消息队列</h4><h4 id="4-共享内存"><a href="#4-共享内存" class="headerlink" title="4.共享内存"></a>4.共享内存</h4><h4 id="5-信号量"><a href="#5-信号量" class="headerlink" title="5.信号量"></a>5.信号量</h4><h4 id="6-套接字"><a href="#6-套接字" class="headerlink" title="6.套接字"></a>6.套接字</h4><h2 id="2-5线程的概念"><a href="#2-5线程的概念" class="headerlink" title="2.5线程的概念"></a>2.5线程的概念</h2><h3 id="2-5-1线程的引入"><a href="#2-5-1线程的引入" class="headerlink" title="2.5.1线程的引入"></a>2.5.1线程的引入</h3><h4 id="1-进程的两个基本属性"><a href="#1-进程的两个基本属性" class="headerlink" title="1.进程的两个基本属性"></a>1.进程的两个基本属性</h4><h4 id="2-程序并发执行所须付出的时空开销"><a href="#2-程序并发执行所须付出的时空开销" class="headerlink" title="2.程序并发执行所须付出的时空开销"></a>2.程序并发执行所须付出的时空开销</h4><h4 id="3-线程–作为调度和分派的基本单位"><a href="#3-线程–作为调度和分派的基本单位" class="headerlink" title="3.线程–作为调度和分派的基本单位"></a>3.线程–作为调度和分派的基本单位</h4><h3 id="2-5-2线程与进程的比较"><a href="#2-5-2线程与进程的比较" class="headerlink" title="2.5.2线程与进程的比较"></a>2.5.2线程与进程的比较</h3><h4 id="1-调度的基本单位"><a href="#1-调度的基本单位" class="headerlink" title="1.调度的基本单位"></a>1.调度的基本单位</h4><h4 id="2-并发性"><a href="#2-并发性" class="headerlink" title="2.并发性"></a>2.并发性</h4><h4 id="3-拥有资源"><a href="#3-拥有资源" class="headerlink" title="3.拥有资源"></a>3.拥有资源</h4><h4 id="4-独立性"><a href="#4-独立性" class="headerlink" title="4.独立性"></a>4.独立性</h4><h4 id="5-系统开销"><a href="#5-系统开销" class="headerlink" title="5.系统开销"></a>5.系统开销</h4><h4 id="6-支持多处理系统"><a href="#6-支持多处理系统" class="headerlink" title="6.支持多处理系统"></a>6.支持多处理系统</h4><h3 id="2-5-3线程转台与线程状态快"><a href="#2-5-3线程转台与线程状态快" class="headerlink" title="2.5.3线程转台与线程状态快"></a>2.5.3线程转台与线程状态快</h3><h4 id="1-线程执行的三个状态"><a href="#1-线程执行的三个状态" class="headerlink" title="1.线程执行的三个状态"></a>1.线程执行的三个状态</h4><ol>
<li>执行状态</li>
<li>就绪状态</li>
<li>阻塞状态</li>
</ol>
<h4 id="2-线程控制块"><a href="#2-线程控制块" class="headerlink" title="2.线程控制块"></a>2.线程控制块</h4><h4 id="3-多线程OS中的进程属性"><a href="#3-多线程OS中的进程属性" class="headerlink" title="3.多线程OS中的进程属性"></a>3.多线程OS中的进程属性</h4><ol>
<li><p>进程是一个可拥有资源的基本单位</p>
</li>
<li><p>多个线程可以并发执行</p>
</li>
<li><p>进程已不是可执行的实体</p>
</li>
</ol>
<h2 id="2-6线程的实现"><a href="#2-6线程的实现" class="headerlink" title="2.6线程的实现"></a>2.6线程的实现</h2><h3 id="2-6-1线程的实现方式"><a href="#2-6-1线程的实现方式" class="headerlink" title="2.6.1线程的实现方式"></a>2.6.1线程的实现方式</h3><h4 id="1-内核支持线程"><a href="#1-内核支持线程" class="headerlink" title="1.内核支持线程"></a>1.内核支持线程</h4><h4 id="2-用户级线程"><a href="#2-用户级线程" class="headerlink" title="2.用户级线程"></a>2.用户级线程</h4><h4 id="3-两种线程的组合方式"><a href="#3-两种线程的组合方式" class="headerlink" title="3.两种线程的组合方式"></a>3.两种线程的组合方式</h4><ol>
<li>多对一模型</li>
<li>一对一模型</li>
<li>多对多模型</li>
</ol>
<h3 id="2-6-2线程的具体实现"><a href="#2-6-2线程的具体实现" class="headerlink" title="2.6.2线程的具体实现"></a>2.6.2线程的具体实现</h3><h4 id="1-KST的实现"><a href="#1-KST的实现" class="headerlink" title="1.KST的实现"></a>1.KST的实现</h4><h4 id="2-ULT的实现"><a href="#2-ULT的实现" class="headerlink" title="2.ULT的实现"></a>2.ULT的实现</h4><ol>
<li>运行时系统</li>
<li>核心线程</li>
</ol>
<h3 id="2-6-3线程的创建与终止"><a href="#2-6-3线程的创建与终止" class="headerlink" title="2.6.3线程的创建与终止"></a>2.6.3线程的创建与终止</h3><h4 id="1-线程的创建"><a href="#1-线程的创建" class="headerlink" title="1.线程的创建"></a>1.线程的创建</h4><h4 id="2-线程的终止"><a href="#2-线程的终止" class="headerlink" title="2.线程的终止"></a>2.线程的终止</h4><h2 id="2-7小结"><a href="#2-7小结" class="headerlink" title="2.7小结"></a>2.7小结</h2><h1 id="3-处理机调度与死锁"><a href="#3-处理机调度与死锁" class="headerlink" title="3.处理机调度与死锁"></a>3.处理机调度与死锁</h1><h2 id="3-1处理机调度概述"><a href="#3-1处理机调度概述" class="headerlink" title="3.1处理机调度概述"></a>3.1处理机调度概述</h2><h3 id="3-1-1处理机调度的层次"><a href="#3-1-1处理机调度的层次" class="headerlink" title="3.1.1处理机调度的层次"></a>3.1.1处理机调度的层次</h3><h4 id="高级调度"><a href="#高级调度" class="headerlink" title="高级调度"></a>高级调度</h4><h4 id="低级调度"><a href="#低级调度" class="headerlink" title="低级调度"></a>低级调度</h4><h4 id="中级调度"><a href="#中级调度" class="headerlink" title="中级调度"></a>中级调度</h4><h3 id="3-1-2作业和作业调度"><a href="#3-1-2作业和作业调度" class="headerlink" title="3.1.2作业和作业调度"></a>3.1.2作业和作业调度</h3><h4 id="作业"><a href="#作业" class="headerlink" title="作业"></a>作业</h4><h4 id="作业控制块"><a href="#作业控制块" class="headerlink" title="作业控制块"></a>作业控制块</h4><h4 id="作业调度的主要任务"><a href="#作业调度的主要任务" class="headerlink" title="作业调度的主要任务"></a>作业调度的主要任务</h4><ol>
<li>接纳多少作业</li>
<li>接纳哪些作业</li>
</ol>
<h3 id="3-1-3进程调度"><a href="#3-1-3进程调度" class="headerlink" title="3.1.3进程调度"></a>3.1.3进程调度</h3><h4 id="1-进程调度任务"><a href="#1-进程调度任务" class="headerlink" title="1.进程调度任务"></a>1.进程调度任务</h4><ol>
<li>保留CPU现场信息</li>
<li>按某种算法选取进程</li>
<li>把CPU分配给进程</li>
</ol>
<p>2.进程调度机制</p>
<ol>
<li>排队器</li>
<li>分派器</li>
<li>上下文切换器</li>
</ol>
<p>3.进程调度方式</p>
<ol>
<li>非抢占式</li>
<li>抢占式</li>
</ol>
<h3 id="3-1-4处理机调度算法的目标"><a href="#3-1-4处理机调度算法的目标" class="headerlink" title="3.1.4处理机调度算法的目标"></a>3.1.4处理机调度算法的目标</h3><ol>
<li><p>处理机调度算法的共同目标</p>
<p>公平性</p>
<p>平衡性</p>
<p>策略强制执行</p>
</li>
<li><p>批处理系统中处理调度算法的目标</p>
<p>平均周转时间短</p>
<p>系统吞吐量高</p>
<p>处理机利用率高</p>
</li>
<li><p>分时系统中处理调度算法的目标</p>
<p>保证响应时间快</p>
<p>保证均衡性</p>
</li>
<li><p>实时系统中处理机调度算法的目标</p>
<p>保证满足截至时间的要求</p>
<p>保证可预测性</p>
</li>
</ol>
<h2 id="3-2调度算法"><a href="#3-2调度算法" class="headerlink" title="3.2调度算法"></a>3.2调度算法</h2><h3 id="3-2-1先来先服务调度算法-first-come-fist-server"><a href="#3-2-1先来先服务调度算法-first-come-fist-server" class="headerlink" title="3.2.1先来先服务调度算法(first come fist server)"></a>3.2.1先来先服务调度算法(first come fist server)</h3><h3 id="3-2-2短作业优先调度算法"><a href="#3-2-2短作业优先调度算法" class="headerlink" title="3.2.2短作业优先调度算法"></a>3.2.2短作业优先调度算法</h3><ol>
<li><p>SJF(short job first)调度算法简介</p>
<p>运行时间越短优先级越高</p>
</li>
<li><p>SJF的缺点</p>
<ul>
<li>必须知道运行时间</li>
<li>对长作业不利</li>
<li>无人机交互</li>
<li>没有考虑作业紧迫性</li>
</ul>
</li>
</ol>
<h3 id="3-2-3优先级调度算法-priority-scheduling-algorithm"><a href="#3-2-3优先级调度算法-priority-scheduling-algorithm" class="headerlink" title="3.2.3优先级调度算法(priority-scheduling algorithm)"></a>3.2.3优先级调度算法(priority-scheduling algorithm)</h3><ol>
<li><p>优先级调度算法的类型</p>
<p>外部赋予作业优先程度</p>
<ul>
<li>非抢占式优先级调度算法</li>
</ul>
<p>程序一直执行直到结束，即使有新的优先级更高的程序</p>
<ul>
<li>抢占式优先级调度算法</li>
</ul>
<p>程序执行到结束，当有新的优先级更高的程序时，让出CPU</p>
</li>
<li><p>优先级的类型</p>
<ul>
<li><p>静态优先级</p>
<ul>
<li><p>在程序创建时确立，考虑因素：①进程类型，②对资源需求，③用户要求；</p>
</li>
<li><p>简单，但不精确，可能使程序饿死</p>
</li>
</ul>
</li>
<li><p>动态优先级</p>
<p>随等待时间则增长而提高</p>
</li>
</ul>
</li>
<li><p>高响应比优先调度算法</p>
</li>
</ol>
<p>$$p&#x3D;\frac{等待时间+要求服务时间}{要求服务时间}&#x3D;\frac{响应时间}{要求服务时间}$$</p>
<p>在SJF和FCFS之间反复横跳</p>
<h3 id="3-2-4轮转调度算法"><a href="#3-2-4轮转调度算法" class="headerlink" title="3.2.4轮转调度算法"></a>3.2.4轮转调度算法</h3><p>在分时系统中，将时间分成等分的时间片</p>
<ol>
<li><p>RR调度算法(round robin)</p>
<p>每个任务运行相同时间后切换</p>
</li>
<li><p>进程切换时机</p>
<ul>
<li>程序结束，但时间片未用完，切换到下一个就绪任务</li>
<li>时间片用完，程序未结束，将程序送往就绪队列<em><strong>尾部</strong></em></li>
</ul>
</li>
<li><p>时间片大小的确定</p>
<p>略大于一次典型的交互所需要的时间</p>
</li>
</ol>
<h3 id="3-2-5多级队列调度算法"><a href="#3-2-5多级队列调度算法" class="headerlink" title="3.2.5多级队列调度算法"></a>3.2.5多级队列调度算法</h3><h3 id="3-2-6多级反馈队列调度算法"><a href="#3-2-6多级反馈队列调度算法" class="headerlink" title="3.2.6多级反馈队列调度算法"></a>3.2.6多级反馈队列调度算法</h3><p>将一个就绪队列拆分为若干</p>
<ol>
<li><p>多级反馈队列调度算法的调度机制</p>
<ul>
<li><p>设置多个就绪队列</p>
<p>每个队列优先级，时间片不同；优先级高的时间片小</p>
</li>
<li><p>每个队列都采用FCFS调度算法</p>
<p>若时间片结束，任务未完成，其转入下一队列末尾</p>
</li>
<li><p>按队列优先级调度</p>
<p>仅当第一列任务结束，在开始下一列，且<em><strong>新的优先级高的任务可以插队</strong></em></p>
</li>
</ul>
</li>
<li><p>多级反馈队列调度算法的性能</p>
</li>
</ol>
<h3 id="3-2-7基于公平原则的调度算法"><a href="#3-2-7基于公平原则的调度算法" class="headerlink" title="3.2.7基于公平原则的调度算法"></a>3.2.7基于公平原则的调度算法</h3><ol>
<li><p>保证调度算法</p>
<p>将每一个程序的</p>
<p>$p&#x3D;\frac{实际处理时间}{应处理时间比值}$</p>
<p>维持在一个相似的比率</p>
</li>
<li><p>公平分享调度算法</p>
<p>针对用户的。让用户的CPU占有时间平等。</p>
</li>
</ol>
<h2 id="3-3实时调度"><a href="#3-3实时调度" class="headerlink" title="3.3实时调度"></a>3.3实时调度</h2><h3 id="3-3-1实现实时调度的基本条件"><a href="#3-3-1实现实时调度的基本条件" class="headerlink" title="3.3.1实现实时调度的基本条件"></a>3.3.1实现实时调度的基本条件</h3><p>要求有截止时间。HRT，SRT</p>
<ol>
<li>提供必要信息<ul>
<li>就绪时间</li>
<li>开始截止时间和完成截止时间</li>
<li>处理时间</li>
<li>资源请求</li>
<li>优先级</li>
</ul>
</li>
<li>系统处理能力强<ul>
<li>采用单处理机系统</li>
<li>采用多处理机系统</li>
</ul>
</li>
<li>采用抢占式调度机制</li>
<li>采用快速切换机制<ul>
<li>对中断的快速响应能力</li>
<li>快速的任务分派能力</li>
</ul>
</li>
</ol>
<h3 id="3-3-2实时调度算法分类"><a href="#3-3-2实时调度算法分类" class="headerlink" title="3.3.2实时调度算法分类"></a>3.3.2实时调度算法分类</h3><h3 id="3-3-3最早截至时间优先算法"><a href="#3-3-3最早截至时间优先算法" class="headerlink" title="3.3.3最早截至时间优先算法"></a>3.3.3最早截至时间优先算法</h3><h3 id="3-3-4最低松弛度优先算法"><a href="#3-3-4最低松弛度优先算法" class="headerlink" title="3.3.4最低松弛度优先算法"></a>3.3.4最低松弛度优先算法</h3><h3 id="3-3-5优先级倒置"><a href="#3-3-5优先级倒置" class="headerlink" title="3.3.5优先级倒置"></a>3.3.5优先级倒置</h3><h2 id="3-4Linux进程调度"><a href="#3-4Linux进程调度" class="headerlink" title="3.4Linux进程调度"></a>3.4Linux进程调度</h2><h2 id="3-5死锁概述"><a href="#3-5死锁概述" class="headerlink" title="3.5死锁概述"></a>3.5死锁概述</h2><h3 id="3-5-1资源问题"><a href="#3-5-1资源问题" class="headerlink" title="3.5.1资源问题"></a>3.5.1资源问题</h3><h3 id="3-5-2计算机系统中的死锁"><a href="#3-5-2计算机系统中的死锁" class="headerlink" title="3.5.2计算机系统中的死锁"></a>3.5.2计算机系统中的死锁</h3><h3 id="3-5-3死锁的定义，必要条件与处理方法"><a href="#3-5-3死锁的定义，必要条件与处理方法" class="headerlink" title="3.5.3死锁的定义，必要条件与处理方法"></a>3.5.3死锁的定义，必要条件与处理方法</h3><h3 id="3-5-4资源分配图"><a href="#3-5-4资源分配图" class="headerlink" title="3.5.4资源分配图"></a>3.5.4资源分配图</h3><h2 id="3-6死锁预防"><a href="#3-6死锁预防" class="headerlink" title="3.6死锁预防"></a>3.6死锁预防</h2><h3 id="3-6-1破坏“请求和保持”条件"><a href="#3-6-1破坏“请求和保持”条件" class="headerlink" title="3.6.1破坏“请求和保持”条件"></a>3.6.1破坏“请求和保持”条件</h3><h3 id="3-6-2破坏“不可抢占”条件"><a href="#3-6-2破坏“不可抢占”条件" class="headerlink" title="3.6.2破坏“不可抢占”条件"></a>3.6.2破坏“不可抢占”条件</h3><h3 id="3-6-3破坏“循环等待”条件"><a href="#3-6-3破坏“循环等待”条件" class="headerlink" title="3.6.3破坏“循环等待”条件"></a>3.6.3破坏“循环等待”条件</h3><h2 id="3-7死锁避免"><a href="#3-7死锁避免" class="headerlink" title="3.7死锁避免"></a>3.7死锁避免</h2><h3 id="3-7-1系统安全状态"><a href="#3-7-1系统安全状态" class="headerlink" title="3.7.1系统安全状态"></a>3.7.1系统安全状态</h3><h3 id="3-7-2利用银行家算法避免死锁"><a href="#3-7-2利用银行家算法避免死锁" class="headerlink" title="3.7.2利用银行家算法避免死锁"></a>3.7.2利用银行家算法避免死锁</h3><h2 id="3-8死锁地检测与解除"><a href="#3-8死锁地检测与解除" class="headerlink" title="3.8死锁地检测与解除"></a>3.8死锁地检测与解除</h2><h3 id="3-8-1死锁的检测"><a href="#3-8-1死锁的检测" class="headerlink" title="3.8.1死锁的检测"></a>3.8.1死锁的检测</h3><h3 id="3-8-2死锁的解除"><a href="#3-8-2死锁的解除" class="headerlink" title="3.8.2死锁的解除"></a>3.8.2死锁的解除</h3>
    </div>
    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2024 Q^Q
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;desk9t
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    




    
</body>
</html>
